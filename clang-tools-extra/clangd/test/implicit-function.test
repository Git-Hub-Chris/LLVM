// RUN: cp %s %t.c
// RUN: not clangd -enable-config=0 -log=verbose -check=%t.c 2>&1 | FileCheck -strict-whitespace %s

// Regression test for a situation when we used to hit an assertion failure
// due to missing source location (for the implicit function declaration).

// CHECK-DAG: [-Wimplicit-function-declaration] Line {{.*}}: call to undeclared function 'foo'
// CHECK-DAG: [init_element_not_constant] Line {{.*}}: initializer element is not a compile-time constant
// CHECK: All checks completed, 2 errors

int x = foo();
