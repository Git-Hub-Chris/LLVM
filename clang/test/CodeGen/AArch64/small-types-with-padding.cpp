// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py UTC_ARGS: --version 5
// RUN: %clang_cc1 -triple arm64-apple-darwin -O1 -disable-llvm-passes %s -emit-llvm -o - | FileCheck %s

struct alignas(8) S {float a;};

struct Foo {
  union {
    struct { float x; };
    S s;
  };
};

// CHECK: define [8 x i8] @_Z3barv() #0 {
Foo bar() {
  Foo r;
  r.s.a = 1;
  return r;
}
