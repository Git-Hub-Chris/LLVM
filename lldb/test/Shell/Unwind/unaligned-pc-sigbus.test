# REQUIRES: (target-aarch64 || target-arm) && native
# UNSUPPORTED: system-windows

# RUN: %clang_host %S/Inputs/unaligned-pc-sigbus.c -o %t
# RUN: %lldb -s %s -o exit %t | FileCheck %s

breakpoint set -n sigbus_handler
# CHECK: Breakpoint 1: where = {{.*}}`sigbus_handler

run
# CHECK: thread #1, {{.*}} stop reason = signal SIGBUS

thread backtrace
# CHECK: (lldb) thread backtrace
# CHECK: frame #0: [[TARGET:0x[0-9a-fA-F]*]] {{.*}}`target_function

continue
# CHECK: thread #1, {{.*}} stop reason = breakpoint 1


thread backtrace
# CHECK: (lldb) thread backtrace
# CHECK: frame #0: {{.*}}`sigbus_handler
# Unknown number of signal trampoline frames
# CHECK: frame #{{[0-9]+}}: [[TARGET]] {{.*}}`target_function

