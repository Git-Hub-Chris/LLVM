; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc < %s -mtriple=x86_64-linux -mattr=+ndd | FileCheck %s --check-prefixes=CHECK

define i16 @lea16bit(i16 %in) {
; CHECK-LABEL: lea16bit:
; CHECK:       # %bb.0:
; CHECK-NEXT:    # kill: def $edi killed $edi def $rdi
; CHECK-NEXT:    leaw 1(%rdi,%rdi), %ax
; CHECK-NEXT:    retq
  %shl = shl i16 %in, 1
  %or = or disjoint i16 %shl, 1
  ret i16 %or
}
