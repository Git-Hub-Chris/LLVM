; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 4
;RUN: llc -mtriple=aarch64-unknown-unknown < %s | FileCheck %s

define i32 @f(i1 %0) {
; CHECK-LABEL: f:
; CHECK:       // %bb.0:
; CHECK-NEXT:    mov w0, #1 // =0x1
; CHECK-NEXT:    ret
  %new0 = srem i1 %0, true
  %last = zext i1 %new0 to i32
  %2 = icmp ne i32 %last, 0
  %3 = select i1 %2, i32 0, i32 1
  ret i32 %3
}
