; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc -mtriple=aarch64-none-linux-gnu %s -o - 2>&1 | FileCheck %s --check-prefixes=CHECK,CHECK-GI

define i32 @f32(i32 %A, i32 %B) nounwind {
; CHECK-LABEL: f32:
; CHECK-GI:      // %bb.0:
; CHECK-GI-NEXT: bfi w0, w1, #4, #2
; CHECK-GI-NEXT: ret
entry:
  %tmp32 = call i32 @llvm.aarch64.bfi.i32(i32 %A, i32 %B, i32 4, i32 2)
  ret i32 %tmp32
}

define i64 @f64(i64 %A, i64 %B) nounwind {
; CHECK-LABEL: f64:
; CHECK-GI:      // %bb.0:
; CHECK-GI-NEXT: bfi x0, x1, #23, #8
; CHECK-GI-NEXT: ret
entry:
  %tmp64 = call i64 @llvm.aarch64.bfi.i64(i64 %A, i64 %B, i64 23, i64 8)
  ret i64 %tmp64
}

declare i32 @llvm.aarch64.bfi.i32(i32, i32, i32, i32)
declare i64 @llvm.aarch64.bfi.i64(i64, i64, i64, i64)
