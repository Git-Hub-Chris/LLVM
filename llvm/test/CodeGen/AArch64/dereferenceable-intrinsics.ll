; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc -mtriple=arm64-apple-macosx -o - %s | FileCheck %s

declare ptr @llvm.dereferenceable(ptr, i64 immarg)

define i64 @foo(ptr %a) {
; CHECK-LABEL: foo:
; CHECK:       ; %bb.0:
; CHECK-NEXT:    ldr x0, [x0]
; CHECK-NEXT:    ret
  %d = call ptr @llvm.dereferenceable(ptr %a, i64 4)
  %l = load i64, ptr %d
  ret i64 %l
}
