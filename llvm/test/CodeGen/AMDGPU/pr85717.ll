; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 4
;RUN: llc -mtriple=amdgcn -mcpu=gfx1036 < %s | FileCheck %s
define void @test(i1 %Bool, ptr %Ptr, <32 x float> %Vec1, <32 x float> %Vec2) {
; CHECK-LABEL: test:
; CHECK:       ; %bb.0: ; %BB0
; CHECK-NEXT:    s_waitcnt vmcnt(0) expcnt(0) lgkmcnt(0)
; CHECK-NEXT:    s_mov_b32 vcc_lo, exec_lo
; CHECK-NEXT:  .LBB0_1: ; %BB1
; CHECK-NEXT:    ; =>This Inner Loop Header: Depth=1
; CHECK-NEXT:    s_cbranch_vccnz .LBB0_1
; CHECK-NEXT:  ; %bb.2: ; %DummyReturnBlock
; CHECK-NEXT:    s_setpc_b64 s[30:31]
BB0:
  %I = insertelement <32 x float> %Vec1, float 4.200000e+01, i1 true
  br label %BB1

BB1:                                              ; preds = %BB0, %BB1, %BB2
  %PHI = phi <32 x float> [ %I, %BB2 ], [ %Vec2, %BB1 ], [ zeroinitializer, %BB0 ]
  store <32 x float> %PHI, ptr %Ptr, align 128
  br i1 %Bool, label %BB1, label %BB2

BB2:                                               ; preds = %BB1
  br label %BB1
}
