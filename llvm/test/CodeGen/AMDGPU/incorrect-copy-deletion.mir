# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple=amdgcn -mcpu=gfx908 %s -o - -run-pass machine-cp -verify-machineinstrs | FileCheck -check-prefix=GFX908 %s

---
name:  foo
tracksRegLiveness: true
body: |
  bb.0:
    successors:
    liveins: $vgpr0, $agpr3

    ; GFX908-LABEL: name: foo
    ; GFX908: liveins: $vgpr0, $agpr3
    ; GFX908-NEXT: {{  $}}
    ; GFX908-NEXT: renamable $agpr0 = COPY renamable $vgpr0, implicit $exec
    ; GFX908-NEXT: $vgpr254 = V_ACCVGPR_READ_B32_e64 $agpr0, implicit $exec, implicit-def $agpr0_agpr1
    ; GFX908-NEXT: $vgpr255 = V_ACCVGPR_READ_B32_e64 $agpr1, implicit $exec
    ; GFX908-NEXT: S_ENDPGM 0
    renamable $agpr0 = COPY renamable $vgpr0, implicit $exec
    renamable $agpr1 = COPY renamable $agpr3, implicit $exec
    $vgpr254 = V_ACCVGPR_READ_B32_e64 $agpr0, implicit $exec, implicit-def $agpr0_agpr1
    $vgpr255 = V_ACCVGPR_READ_B32_e64 $agpr1, implicit $exec
    S_ENDPGM 0
...
