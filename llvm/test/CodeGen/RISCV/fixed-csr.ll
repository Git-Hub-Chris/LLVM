; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc -mtriple=riscv64 -mattr=+reserve-x24 < %s | FileCheck %s

define i32 @foo() {
; CHECK-LABEL: foo:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    li s8, 123
; CHECK-NEXT:    li a0, 0
; CHECK-NEXT:    ret
entry:
  tail call void @llvm.write_register.i64(metadata !0, i64 123)
  ret i32 0
}

declare void @llvm.write_register.i64(metadata, i64) #1

!llvm.named.register.x24 = !{!0}

!0 = !{!"x24"}

