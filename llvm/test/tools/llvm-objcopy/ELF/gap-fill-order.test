# RUN: yaml2obj %s -o %t

## In this test, output sections are defined out of
## order in respect to their load addresses. Verify
## that gaps are still correctly filled.

# RUN: llvm-objcopy -O binary --gap-fill=0xe9 %t %t-filled
# RUN: od -v -Ax -t x1 %t-filled | FileCheck --match-full-lines %s
# CHECK: 000000 aa bb cc dd e9 e9 e9 e9 11 22 33 44

--- !ELF
FileHeader:
  Class:           ELFCLASS64
  Data:            ELFDATA2LSB
  Type:            ET_EXEC
  Machine:         EM_X86_64
Sections:
  - Name:            .bss
    Type:            SHT_NOBITS
    Flags:           [ SHF_ALLOC, SHF_WRITE ]
    Address:         0x0104
    AddressAlign:    0x0001
    Size:            4
  - Name:            .section1
    Type:            SHT_PROGBITS
    Flags:           [ SHF_ALLOC, SHF_WRITE ]
    Address:         0x0108
    AddressAlign:    0x0001
    Content:         '11223344'
  - Name:            .section3
    Type:            SHT_PROGBITS
    Flags:           [ SHF_ALLOC, SHF_WRITE ]
    Address:         0x0100
    AddressAlign:    0x0001
    Content:         'AABBCCDD'
...
