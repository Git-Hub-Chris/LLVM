# RUN: yaml2obj --docnum=1 %s -o %t1
# RUN: llvm-objcopy --remove-note=1 %t1 %t1o 2>&1 | FileCheck %s --check-prefix=NOTE_SEGMENT
# NOTE_SEGMENT: warning: note segments are not supported
# NOTE_SEGMENT-NOT: note segments are not supported

--- !ELF
FileHeader:
  Class:          ELFCLASS64
  Data:           ELFDATA2LSB
  Type:           ET_EXEC
  Machine:        EM_X86_64
ProgramHeaders:
  - Type:         PT_NOTE
    FirstSec:     .data0
    LastSec:      .data0
  - Type:         PT_NOTE
    FirstSec:     .data1
    LastSec:      .data1
Sections:
  - Name:         .data0
    Type:         SHT_PROGBITS
    AddressAlign: 4
    Content:      "1122334455"
  - Name:         .data1
    Type:         SHT_PROGBITS
    AddressAlign: 4
    Content:      "1122334455"

# RUN: yaml2obj --docnum=2 %s -o %t2
# RUN: llvm-objcopy --remove-note=1 %t2 %t2o 2>&1 | FileCheck %s --check-prefix=NOTE_SECTION
# NOTE_SECTION: warning: cannot remove note(s) from .note: sections in segments are not supported

--- !ELF
FileHeader:
  Class:          ELFCLASS64
  Data:           ELFDATA2LSB
  Type:           ET_EXEC
  Machine:        EM_X86_64
ProgramHeaders:
  - Type:         PT_LOAD
    FirstSec:     .note
    LastSec:      .note
Sections:
  - Name:         .note
    Type:         SHT_NOTE
    AddressAlign: 4
    Content:      "1122334455"
