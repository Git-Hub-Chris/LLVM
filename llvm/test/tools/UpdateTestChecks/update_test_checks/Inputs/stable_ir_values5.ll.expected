; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --include-generated-funcs --version 3
; RUN: opt < %s -S | FileCheck %s

; With --include-generated-funcs, check lines are separate from IR function bodies.
; This needs to be handled separately by the UTC parser for existing check lines.
; This test tests this case.

define i32 @func({i32, i32} %x, i32 %y) {
  %x.i34 = extractvalue {i32, i32} %x, 0
  %1 = add i32 %y, 1
  %2 = add i32 %x.i34, %1
  %3 = mul i32 %2, 3
  ret i32 %3
}

; CHECK-LABEL: define i32 @func(
; CHECK-SAME: { i32, i32 } [[X:%.*]], i32 [[Y:%.*]]) {
; CHECK-NEXT:    [[X_I34:%.*]] = extractvalue { i32, i32 } [[X]], 0
; CHECK-NEXT:    [[TMP1:%.*]] = add i32 [[Y]], 1
; CHECK-NEXT:    [[TMP2:%.*]] = add i32 [[X_I34]], [[TMP1]]
; CHECK-NEXT:    [[TMP3:%.*]] = mul i32 [[TMP2]], 3
; CHECK-NEXT:    ret i32 [[TMP3]]
;
